# HaMoney - 智能分帳Web應用程式

## 項目概述

HaMoney是一個智能分帳Web應用程式，使用Open Router AI API來掃描單據並自動分析費用，讓朋友、家人和同事之間的費用分攤變得簡單透明。

## 主要功能

### 1. 智能單據掃描
- **上傳方式**：支援拍照或上傳單據圖像
- **識別內容**：自動識別餐廳收據、購物單據等
- **解析資訊**：提取總金額、項目清單、日期等關鍵資訊
- **支援格式**：JPG、PNG、JPEG等常見圖像格式

### 2. 自動分帳計算
- **平均分攤**：將總金額平均分配給所有成員
- **按比例分攤**：根據預設比例分配費用
- **自定義分攤**：手動指定每人應付金額
- **實時計算**：即時顯示每人應付金額

### 3. 欠款追蹤管理
- **欠款記錄**：自動記錄每次分帳後的欠款情況
- **月度統計**：計算每月每人的欠款總額
- **歷史查詢**：提供詳細的歷史記錄查閱
- **欠款明細**：清楚顯示誰欠誰多少錢

### 4. 群組功能
- **多群組管理**：支援創建朋友、家人、同事等不同群組
- **獨立分帳**：每個群組獨立管理成員和分帳規則
- **成員管理**：新增、移除群組成員

### 5. 還款管理
- **還款記錄**：記錄還款金額和日期
- **狀態更新**：自動更新欠款狀態
- **提醒功能**：提醒用戶處理未結清欠款

### 6. 數據安全
- **加密存儲**：所有數據加密保存
- **本地存儲**：使用瀏覽器本地存儲
- **隱私保護**：不上傳個人敏感資訊

## 技術架構

### 前端技術
- **HTML5**：構建網頁結構
- **CSS3**：響應式設計，支援手機和桌面
- **JavaScript ES6+**：處理業務邏輯
- **Bootstrap 5**：快速構建美觀界面

### 後端服務
- **Open Router AI API**：智能圖像識別和解析
- **Model**: meta-llama/llama-4-maverick:free
- **API端點**: https://openrouter.ai/api/v1/chat/completions

### 數據存儲
- **LocalStorage**：瀏覽器本地存儲
- **JSON格式**：結構化數據保存

## 使用場景

### 朋友聚餐
1. 用手機拍攝餐廳收據
2. 上傳到HaMoney應用程式
3. 系統自動識別總金額和項目
4. 選擇參與分帳的朋友
5. 自動計算每人應付金額
6. 記錄欠款情況

### 家庭開支
1. 掃描生活用品收據
2. 追蹤家庭成員的費用分攤
3. 查看月度開支統計
4. 管理家庭成員還款記錄

### 同事合資
1. 記錄共用交通或住宿費用
2. 確保分帳公平透明
3. 追蹤團隊活動開支
4. 生成費用報告

## 文件結構

```
HaMoney/
├── README.md              # 項目說明文件
├── index.html            # 主頁面
├── css/
│   ├── style.css         # 主要樣式文件
│   └── responsive.css    # 響應式設計
├── js/
│   ├── main.js          # 主要業務邏輯
│   ├── api.js           # API通信處理
│   ├── scanner.js       # 圖像掃描功能
│   ├── calculator.js    # 分帳計算邏輯
│   └── storage.js       # 數據存儲管理
├── assets/
│   ├── images/          # 應用程式圖標和圖像
│   └── icons/           # 功能圖標
└── log.md               # 開發進度日誌
```

## 安裝和運行

### 環境要求
- 現代瀏覽器（Chrome、Firefox、Safari等）
- 網絡連接（用於API請求）

### 運行步驟
1. 下載或克隆項目文件
2. 在瀏覽器中打開 `index.html`
3. 允許攝像頭權限（用於拍照功能）
4. 開始使用！

## API配置

### Open Router AI設置
- **API Key**: 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
- **Model**: meta-llama/llama-4-maverick:free
- **端點**: https://openrouter.ai/api/v1/chat/completions

### 請求格式
```javascript
{
  "model": "meta-llama/llama-4-maverick:free",
  "messages": [
    {
      "role": "user",
      "content": [
        {
          "type": "text",
          "text": "請分析這張收據，提取總金額、項目清單和日期，並以JSON格式回傳"
        },
        {
          "type": "image_url",
          "image_url": {
            "url": "data:image/jpeg;base64,..."
          }
        }
      ]
    }
  ]
}
```

## 貨幣設置
- 預設貨幣：港幣 (HKD)
- 符號：HK$
- 小數位數：2位

## 版本更新

### v1.0.0 (初始版本)
- 基本單據掃描功能
- 簡單分帳計算
- 本地數據存儲
- 響應式界面設計

## 技術支援

如有任何問題或建議，請查看開發日誌 `log.md` 或聯繫開發團隊。

## 授權
此項目僅供學習和個人使用。 